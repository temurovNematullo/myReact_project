"use strict";(self.webpackChunkmyreact_app=self.webpackChunkmyreact_app||[]).push([[346],{1346:(e,s,t)=>{t.r(s),t.d(s,{default:()=>C});const a={main__img:"Main_main__img__k0bTS"};var r=t(5043),o=t(3003);const i={main__title:"MyPost_main__title__ctbDe",main__txt:"MyPost_main__txt__PRVBI",AddNewPost:"MyPost_AddNewPost__otSZW",UserInfo:"MyPost_UserInfo__JPf4n",addPost_button:"MyPost_addPost_button__jV4-y",textareaPost:"MyPost_textareaPost__6AYzv",error:"MyPost_error__u2YbK"};var n=t(8228);const l="Post_post__title__nwpWC",c="Post_post__txt__Nk0Ms";var d=t(579);function m(e){return console.log("\u0420\u0435\u0440\u0435\u043d\u0434\u0435\u0440 Post",e),(0,d.jsxs)("div",{className:l,children:[(0,d.jsx)("img",{src:n,alt:"samurai"}),(0,d.jsx)("p",{className:c,children:e.message})]})}const u=r.memo(m);var _=t(8895),p=t(6391);const x={profileContainer:"Profile_profileContainer__r7PrX",profileHeader:"Profile_profileHeader__fROfE",profileImage:"Profile_profileImage__TU-C+",profileDetails:"Profile_profileDetails__b7Nzt",contactsList:"Profile_contactsList__5MKYR",contactItem:"Profile_contactItem__C1gY9",profileInput:"Profile_profileInput__kk1nr",profilePhotoUpload:"Profile_profilePhotoUpload__efyHA"},h=e=>{const s=(0,o.wA)(),[t,a]=(0,r.useState)(!1),[i,n]=(0,r.useState)(e.status),l=(0,o.d4)((e=>e.Auth.isAuth));(0,r.useEffect)((()=>{n(e.status)}),[e.status]);return(0,d.jsxs)("div",{children:[!t&&(0,d.jsx)("div",{children:(0,d.jsx)("span",{onDoubleClick:l?()=>{a(!0)}:void 0,children:e.status||"No status"})}),t&&(0,d.jsx)("div",{children:(0,d.jsx)("input",{autoFocus:!0,value:i,onChange:e=>{n(e.target.value)},onBlur:()=>{l&&s((0,p.pU)(i)),a(!1)}})})]})},f=r.memo(h);var j=t(4858),g=t(9474);const P=()=>{const e=(0,o.wA)(),{register:s,handleSubmit:t,reset:a,formState:{errors:r,touchedFields:n}}=(0,j.mN)({mode:"onChange"});return(0,d.jsxs)("form",{className:i.AddNewPost,onSubmit:t((s=>{console.log("\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435:",s.text),e((0,p.S)(s.text)),a()})),children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("textarea",{className:`${i.textareaPost} ${r.text?i.error:""}`,...s("text",g.t.dialogTextarea)}),n.text&&r.text&&(0,d.jsx)("p",{children:r.text.message})]}),(0,d.jsx)("button",{type:"submit",className:i.addPost_button,children:"Add post"})]})},v=r.memo(P),N=()=>{const e=(0,o.wA)(),[s,t]=(0,r.useState)(null),a=(0,o.d4)((e=>{var s;return null===(s=e.MainPage.userProfile.photos)||void 0===s?void 0:s.large}));return(0,d.jsxs)("div",{className:x.profileContainer,children:[(0,d.jsx)("img",{className:x.profileImage,src:a||n,alt:"Profile"}),(0,d.jsx)("input",{className:x.profileInput,id:"file-upload",type:"file",onChange:e=>{t(e.target.files[0])},accept:"image/*"}),(0,d.jsx)("label",{for:"file-upload",className:x.profilePhotoUpload,children:"\u0417\u0430\u043c\u0435\u043d\u0438\u0442\u044c"}),(0,d.jsx)("button",{className:x.profilePhotoUpload,onClick:()=>{s&&(e((0,p.DK)(s)),t(null))},disabled:!s,children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"})]})},b=()=>{const e=(0,o.d4)((e=>e.MainPage.userProfile),o.bN);return(0,d.jsxs)("div",{className:x.profileContainerContacts,children:[(0,d.jsx)("h3",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"}),e.contacts?(0,d.jsx)("div",{className:x.contactsList,children:Object.entries(e.contacts).map((e=>{let[s,t]=e;return t?(0,d.jsxs)("div",{className:x.contactItem,children:[(0,d.jsx)("span",{children:(0,d.jsxs)("strong",{children:[s,":"]})}),(0,d.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:t})]},s):null}))}):(0,d.jsx)("p",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"})]})};function I(e){let{userId:s,authUserId:t}=e;console.log("\u0420\u0435\u0440\u0435\u043d\u0434\u0435\u0440 MyPosts");const a=(0,o.wA)(),n=(0,o.d4)((e=>e.Auth.isAuth)),l=(0,o.d4)((e=>e.MainPage.status)),c=(0,o.d4)((e=>e.MainPage.postData),o.bN),m=(0,o.d4)((e=>e.MainPage.userProfile),o.bN);return(0,r.useEffect)((()=>{const e=s||t;e&&(a((0,p.VM)(e)),a((0,p.CD)(e)))}),[s,t]),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:x.profileContainer,children:m?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:x.profileHeader,children:[(0,d.jsx)(N,{}),(0,d.jsx)("h2",{children:m.fullName}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"\u041e\u0431\u043e \u043c\u043d\u0435:"})," ",m.aboutMe]})]}),(0,d.jsxs)("div",{className:x.profileDetails,children:[(0,d.jsx)("p",{children:(0,d.jsx)("strong",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:"})}),(0,d.jsx)("p",{children:m.lookingForAJob?"\u0414\u0430":"\u041d\u0435\u0442"}),(0,d.jsx)("p",{children:(0,d.jsx)("strong",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b:"})}),(0,d.jsx)("p",{children:m.lookingForAJobDescription})]}),(0,d.jsx)(f,{authUserId:t,status:l,profileId:s}),(0,d.jsx)(b,{})]}):(0,d.jsx)(_.A,{})}),n&&(0,d.jsxs)("div",{children:[(0,d.jsx)(v,{}),(0,d.jsx)("div",{className:i.postHave,children:c.map((e=>(0,d.jsx)(u,{message:e.message,id:e.id},e.id)))})]})]})}const M=r.memo(I);var A=t(1675);const C=function(){const{userId:e}=(0,A.g)();console.log("\u0420\u0435\u0440\u0435\u043d\u0434\u0435\u0440 Main");const s=(0,o.d4)((e=>e.Auth.userId)),t=(0,r.useMemo)((()=>e),[e]);return(0,d.jsxs)("main",{className:a.main,children:[(0,d.jsx)("div",{className:a.main__img,children:(0,d.jsx)("img",{src:"https://cdn.fastly.steamstatic.com/steamcommunity/public/images/items/1492660/f53947e25201d549d9281bf395e383e17c640587.jpg",alt:"main"})}),(0,d.jsx)(M,{userId:t,authUserId:s})]})}},8228:(e,s,t)=>{e.exports=t.p+"static/media/samurai.34ca7aafbc16c3cca061.png"},9474:(e,s,t)=>{t.d(s,{t:()=>a});const a={email:{required:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email",pattern:{value:/^\S+@\S+\.\S+$/,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"}},password:{required:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",minLength:{value:6,message:"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}},dialogTextarea:{required:"\u0412\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",maxLength:{value:30,message:"\u041d\u0435 \u0434\u0430\u0445\u0443\u044f \u043b\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}},confirmPassword:e=>({required:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",validate:s=>s===e("password")||"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"})}}}]);
//# sourceMappingURL=346.4c342d38.chunk.js.map