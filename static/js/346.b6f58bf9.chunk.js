"use strict";(self.webpackChunkmyreact_app=self.webpackChunkmyreact_app||[]).push([[346],{1346:(e,s,t)=>{t.r(s),t.d(s,{default:()=>q});const a={main__img:"Main_main__img__k0bTS"};var r=t(5043),i=t(3003);const n={main__title:"MyPost_main__title__ctbDe",main__txt:"MyPost_main__txt__PRVBI",AddNewPost:"MyPost_AddNewPost__otSZW",UserInfo:"MyPost_UserInfo__JPf4n",addPost_button:"MyPost_addPost_button__jV4-y",textareaPost:"MyPost_textareaPost__6AYzv",error:"MyPost_error__u2YbK"};var o=t(8228);const l="Post_post__title__nwpWC",c="Post_post__txt__Nk0Ms";var d=t(579);function m(e){return console.log("\u0420\u0435\u0440\u0435\u043d\u0434\u0435\u0440 Post",e),(0,d.jsxs)("div",{className:l,children:[(0,d.jsx)("img",{src:o,alt:"samurai"}),(0,d.jsx)("p",{className:c,children:e.message})]})}const u=r.memo(m);var _=t(8895),x=t(6391);const h="Profile_profileContainer__r7PrX",j="Profile_profileHeader__fROfE",p="Profile_profileImage__TU-C+",f="Profile_profileDetails__b7Nzt",g="Profile_contactsList__5MKYR",P="Profile_contactItem__C1gY9",v="Profile_profileInput__kk1nr",N="Profile_profilePhotoUpload__efyHA",b="Profile_profileContainerContacts__AmvEC",M=e=>{const s=(0,i.wA)(),[t,a]=(0,r.useState)(!1),[n,o]=(0,r.useState)(e.status),l=(0,i.d4)((e=>e.Auth.isAuth));(0,r.useEffect)((()=>{o(e.status)}),[e.status]);return(0,d.jsxs)("div",{children:[!t&&(0,d.jsx)("div",{children:(0,d.jsx)("span",{onDoubleClick:l?()=>{a(!0)}:void 0,children:e.status||"No status"})}),t&&(0,d.jsx)("div",{children:(0,d.jsx)("input",{autoFocus:!0,value:n,onChange:e=>{o(e.target.value)},onBlur:()=>{l&&s((0,x.pU)(n)),a(!1)}})})]})},A=r.memo(M);var y=t(4858),C=t(9474);const I=()=>{const e=(0,i.wA)(),{register:s,handleSubmit:t,reset:a,formState:{errors:r,touchedFields:o}}=(0,y.mN)({mode:"onChange"});return(0,d.jsxs)("form",{className:n.AddNewPost,onSubmit:t((s=>{console.log("\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435:",s.text),e((0,x.S)(s.text)),a()})),children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("textarea",{className:`${n.textareaPost} ${r.text?n.error:""}`,...s("text",C.t.dialogTextarea)}),o.text&&r.text&&(0,d.jsx)("p",{children:r.text.message})]}),(0,d.jsx)("button",{type:"submit",className:n.addPost_button,children:"Add post"})]})},k=r.memo(I),w=()=>{const e=(0,i.wA)(),[s,t]=(0,r.useState)(null),a=(0,i.d4)((e=>{var s;return null===(s=e.MainPage.userProfile.photos)||void 0===s?void 0:s.large}));return(0,d.jsxs)("div",{className:h,children:[(0,d.jsx)("img",{className:p,src:a||o,alt:"Profile"}),(0,d.jsx)("input",{className:v,id:"file-upload",type:"file",onChange:e=>{t(e.target.files[0])},accept:"image/*"}),(0,d.jsx)("label",{for:"file-upload",className:N,children:"\u0417\u0430\u043c\u0435\u043d\u0438\u0442\u044c"}),(0,d.jsx)("button",{className:N,onClick:()=>{s&&(e((0,x.DK)(s)),t(null))},disabled:!s,children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"})]})},S=()=>{const e=(0,i.d4)((e=>e.MainPage.userProfile),i.bN);return(0,d.jsxs)("div",{className:b,children:[(0,d.jsx)("h3",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"}),e.contacts?(0,d.jsx)("div",{className:g,children:Object.entries(e.contacts).map((e=>{let[s,t]=e;return t?(0,d.jsxs)("div",{className:P,children:[(0,d.jsx)("span",{children:(0,d.jsxs)("strong",{children:[s,":"]})}),(0,d.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:t})]},s):null}))}):(0,d.jsx)("p",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"})]})};function U(e){let{userId:s,authUserId:t}=e;console.log("\u0420\u0435\u0440\u0435\u043d\u0434\u0435\u0440 MyPosts");const a=(0,i.wA)(),o=(0,i.d4)((e=>e.Auth.isAuth)),l=(0,i.d4)((e=>e.MainPage.status)),c=(0,i.d4)((e=>e.MainPage.postData),i.bN),m=(0,i.d4)((e=>e.MainPage.userProfile),i.bN);return(0,r.useEffect)((()=>{const e=s||t;e&&(a((0,x.VM)(e)),a((0,x.CD)(e)))}),[s,t]),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:h,children:m?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:j,children:[(0,d.jsx)(w,{}),(0,d.jsx)("h2",{children:m.fullName}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"\u041e\u0431\u043e \u043c\u043d\u0435:"})," ",m.aboutMe]})]}),(0,d.jsxs)("div",{className:f,children:[(0,d.jsx)("p",{children:(0,d.jsx)("strong",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:"})}),(0,d.jsx)("p",{children:m.lookingForAJob?"\u0414\u0430":"\u041d\u0435\u0442"}),(0,d.jsx)("p",{children:(0,d.jsx)("strong",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b:"})}),(0,d.jsx)("p",{children:m.lookingForAJobDescription})]}),(0,d.jsx)(A,{authUserId:t,status:l,profileId:s}),(0,d.jsx)(S,{})]}):(0,d.jsx)(_.A,{})}),o&&(0,d.jsxs)("div",{children:[(0,d.jsx)(k,{}),(0,d.jsx)("div",{className:n.postHave,children:c.map((e=>(0,d.jsx)(u,{message:e.message,id:e.id},e.id)))})]})]})}const D=r.memo(U);var F=t(1675);const q=function(){const{userId:e}=(0,F.g)();console.log("\u0420\u0435\u0440\u0435\u043d\u0434\u0435\u0440 Main");const s=(0,i.d4)((e=>e.Auth.userId)),t=(0,r.useMemo)((()=>e),[e]);return(0,d.jsxs)("main",{className:a.main,children:[(0,d.jsx)("div",{className:a.main__img,children:(0,d.jsx)("img",{src:"https://cdn.fastly.steamstatic.com/steamcommunity/public/images/items/1492660/f53947e25201d549d9281bf395e383e17c640587.jpg",alt:"main"})}),(0,d.jsx)(D,{userId:t,authUserId:s})]})}},8228:(e,s,t)=>{e.exports=t.p+"static/media/samurai.34ca7aafbc16c3cca061.png"},9474:(e,s,t)=>{t.d(s,{t:()=>a});const a={email:{required:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email",pattern:{value:/^\S+@\S+\.\S+$/,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"}},password:{required:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",minLength:{value:6,message:"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}},dialogTextarea:{required:"\u0412\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",maxLength:{value:30,message:"\u041d\u0435 \u0434\u0430\u0445\u0443\u044f \u043b\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}},confirmPassword:e=>({required:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",validate:s=>s===e("password")||"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"})}}}]);
//# sourceMappingURL=346.b6f58bf9.chunk.js.map