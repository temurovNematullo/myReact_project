"use strict";(self.webpackChunkmyreact_app=self.webpackChunkmyreact_app||[]).push([[322],{3322:(e,s,t)=>{t.r(s),t.d(s,{default:()=>O});const r={main__img:"Main_main__img__k0bTS"};var a=t(5043),i=t(3003);const n={main__title:"MyPost_main__title__ctbDe",main__txt:"MyPost_main__txt__PRVBI",AddNewPost:"MyPost_AddNewPost__otSZW",UserInfo:"MyPost_UserInfo__JPf4n",addPost_button:"MyPost_addPost_button__jV4-y",textareaPost:"MyPost_textareaPost__6AYzv",error:"MyPost_error__u2YbK"};var l=t(8228);const o="Post_post__title__nwpWC",c="Post_post__txt__Nk0Ms";var d=t(579);function u(e){return console.log("\u0420\u0435\u0440\u0435\u043d\u0434\u0435\u0440 Post",e),(0,d.jsxs)("div",{className:o,children:[(0,d.jsx)("img",{src:l,alt:"samurai"}),(0,d.jsx)("p",{className:c,children:e.message})]})}const m=a.memo(u);var x=t(8895),h=t(6391);const j="Profile_profileContainer__r7PrX",_="Profile_profileHeader__fROfE",p="Profile_profileImage__TU-C+",f="Profile_profileDetails__b7Nzt",g="Profile_contactsList__5MKYR",b="Profile_contactItem__C1gY9",P="Profile_profileInput__kk1nr",N="Profile_profilePhotoUpload__efyHA",v="Profile_profileContainerContacts__AmvEC",A=e=>{const s=(0,i.wA)(),[t,r]=(0,a.useState)(!1),[n,l]=(0,a.useState)(e.status),o=(0,i.d4)((e=>e.Auth.isAuth));(0,a.useEffect)((()=>{l(e.status)}),[e.status]);return(0,d.jsxs)("div",{children:[!t&&(0,d.jsx)("div",{children:(0,d.jsx)("span",{onDoubleClick:o?()=>{r(!0)}:void 0,children:e.status||"No status"})}),t&&(0,d.jsx)("div",{children:(0,d.jsx)("input",{autoFocus:!0,value:n,onChange:e=>{l(e.target.value)},onBlur:()=>{o&&s((0,h.pU)(n)),r(!1)}})})]})},k=a.memo(A);var M=t(4858),y=t(9474);const w=()=>{const e=(0,i.wA)(),{register:s,handleSubmit:t,reset:r,formState:{errors:a,touchedFields:l}}=(0,M.mN)({mode:"onChange"});return(0,d.jsxs)("form",{className:n.AddNewPost,onSubmit:t((s=>{console.log("\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435:",s.text),e((0,h.S)(s.text)),r()})),children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("textarea",{className:`${n.textareaPost} ${a.text?n.error:""}`,...s("text",y.t.dialogTextarea)}),l.text&&a.text&&(0,d.jsx)("p",{children:a.text.message})]}),(0,d.jsx)("button",{type:"submit",className:n.addPost_button,children:"Add post"})]})},C=a.memo(w),S=()=>{const e=(0,i.wA)(),[s,t]=(0,a.useState)(null),r=(0,i.d4)((e=>{var s;return null===(s=e.MainPage.userProfile.photos)||void 0===s?void 0:s.large}));return(0,d.jsxs)("div",{className:j,children:[(0,d.jsx)("img",{className:p,src:r||l,alt:"Profile"}),(0,d.jsx)("input",{className:P,id:"file-upload",type:"file",onChange:e=>{t(e.target.files[0])},accept:"image/*"}),(0,d.jsx)("label",{for:"file-upload",className:N,children:"\u0417\u0430\u043c\u0435\u043d\u0438\u0442\u044c"}),(0,d.jsx)("button",{className:N,onClick:()=>{s&&(e((0,h.DK)(s)),t(null))},disabled:!s,children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"})]})},I=e=>{const s=(0,i.d4)((e=>e.MainPage.userProfile)),t=(0,i.wA)(),r=e.isOwner;console.log("isOwner",r);const[n,l]=(0,a.useState)(!1),{register:o,handleSubmit:c,formState:{errors:u}}=(0,M.mN)({defaultValues:s});return(0,d.jsx)("div",{className:v,children:n?(0,d.jsxs)("form",{onSubmit:c((e=>{console.log("\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445:",e),t((0,h.i0)(e)),l(!1)})),children:[(0,d.jsx)("h3",{children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432:"}),(0,d.jsx)("div",{className:g,children:Object.entries(s.contacts).map((e=>{let[s,t]=e;return(0,d.jsxs)("div",{className:b,children:[(0,d.jsx)("label",{children:(0,d.jsxs)("strong",{children:[s,":"]})}),(0,d.jsx)("input",{...o(`contacts.${s}`),defaultValue:t,type:"text",placeholder:`${s}`})]},s)}))}),(0,d.jsx)("button",{type:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),(0,d.jsx)("button",{type:"button",onClick:()=>l(!1),children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]}):(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"}),s.contacts?(0,d.jsxs)("div",{className:g,children:[Object.entries(s.contacts).map((e=>{let[s,t]=e;return t?(0,d.jsxs)("div",{className:b,children:[(0,d.jsx)("span",{children:(0,d.jsxs)("strong",{children:[s,":"]})}),(0,d.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:t})]},s):null})),r&&(0,d.jsx)("button",{onClick:()=>l(!0),children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})]}):(0,d.jsx)("p",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"})]})})},D=e=>{let{userProfileData:s,isOwner:t}=e;const r=(0,i.wA)(),[l,o]=(0,a.useState)(!1),{register:c,handleSubmit:u,formState:{errors:m}}=(0,M.mN)({defaultValues:s});return(0,d.jsx)("div",{children:l?(0,d.jsxs)("form",{onSubmit:u((e=>{console.log("\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445:",e),r((0,h.i0)(e)),o(!1)})),children:[(0,d.jsxs)("div",{className:_,children:[(0,d.jsxs)("h2",{children:[(0,d.jsx)("input",{className:n.textareaPost,...c("fullName",{required:!0}),defaultValue:s.fullName}),m.fullName&&(0,d.jsx)("span",{children:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"})]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"\u041e\u0431\u043e \u043c\u043d\u0435:"}),(0,d.jsx)("textarea",{className:n.textareaPost,...c("aboutMe",{required:!0}),defaultValue:s.aboutMe}),m.aboutMe&&(0,d.jsx)("span",{children:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"})]})]}),(0,d.jsxs)("div",{className:f,children:[(0,d.jsx)("p",{children:(0,d.jsx)("strong",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:"})}),(0,d.jsx)("p",{children:(0,d.jsx)("input",{type:"checkbox",...c("lookingForAJob"),defaultChecked:s.lookingForAJob})}),(0,d.jsx)("p",{children:(0,d.jsx)("strong",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b:"})}),(0,d.jsxs)("p",{children:[(0,d.jsx)("textarea",{className:n.textareaPost,...c("lookingForAJobDescription",{required:!0}),defaultValue:s.lookingForAJobDescription}),m.lookingForAJobDescription&&(0,d.jsx)("span",{children:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"})]})]}),(0,d.jsx)("button",{className:N,type:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),(0,d.jsx)("button",{className:N,type:"button",onClick:()=>o(!1),children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]}):(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:_,children:[(0,d.jsx)("h2",{children:s.fullName}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"\u041e\u0431\u043e \u043c\u043d\u0435:"})," ",s.aboutMe]})]}),(0,d.jsxs)("div",{className:f,children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:"})," ",s.lookingForAJob?"\u0414\u0430":"\u041d\u0435\u0442"]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b:"})," ",s.lookingForAJobDescription]})]}),t&&(0,d.jsx)("button",{className:N,onClick:()=>o(!0),children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]})})};function F(e){let{userId:s,authUserId:t}=e;console.log("\u0420\u0435\u0440\u0435\u043d\u0434\u0435\u0440 MyPosts");const r=(0,i.wA)(),l=(0,i.d4)((e=>e.Auth.isAuth)),o=(0,i.d4)((e=>e.MainPage.status)),c=(0,i.d4)((e=>e.MainPage.postData),i.bN),u=(0,i.d4)((e=>e.MainPage.userProfile),i.bN),_=Number(null!==s&&void 0!==s?s:t)===Number(t);return(0,a.useEffect)((()=>{const e=s||t;e&&(r((0,h.VM)(e)),r((0,h.CD)(e)))}),[s,t]),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:j,children:u?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(S,{}),(0,d.jsx)(D,{userProfileData:u,isOwner:_}),(0,d.jsx)(k,{authUserId:t,status:o,profileId:s}),(0,d.jsx)(I,{isOwner:_})]}):(0,d.jsx)(x.A,{})}),l&&(0,d.jsxs)("div",{children:[(0,d.jsx)(C,{}),(0,d.jsx)("div",{className:n.postHave,children:c.map((e=>(0,d.jsx)(m,{message:e.message,id:e.id},e.id)))})]})]})}const V=a.memo(F);var J=t(1675);const O=function(){const{userId:e}=(0,J.g)();console.log("\u0420\u0435\u0440\u0435\u043d\u0434\u0435\u0440 Main");const s=(0,i.d4)((e=>e.Auth.userId)),t=(0,a.useMemo)((()=>e),[e]);return(0,d.jsxs)("main",{className:r.main,children:[(0,d.jsx)("div",{className:r.main__img,children:(0,d.jsx)("img",{src:"https://cdn.fastly.steamstatic.com/steamcommunity/public/images/items/1492660/f53947e25201d549d9281bf395e383e17c640587.jpg",alt:"main"})}),(0,d.jsx)(V,{userId:t,authUserId:s})]})}},8228:(e,s,t)=>{e.exports=t.p+"static/media/samurai.34ca7aafbc16c3cca061.png"},9474:(e,s,t)=>{t.d(s,{t:()=>r});const r={email:{required:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email",pattern:{value:/^\S+@\S+\.\S+$/,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"}},password:{required:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",minLength:{value:6,message:"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}},dialogTextarea:{required:"\u0412\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",maxLength:{value:30,message:"\u041d\u0435 \u0434\u0430\u0445\u0443\u044f \u043b\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}},confirmPassword:e=>({required:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",validate:s=>s===e("password")||"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"})}}}]);
//# sourceMappingURL=322.21b59089.chunk.js.map